## Collections in Kotlin
### 람다 및 고차함수
#### *람다
: 이름이 없으며 곧바로 표현식으로 사용할 수 있는 함수  
- 중괄호 안에 작은 함수를 작성하는 것과 같지만 함수 이름은 없다. 
```kotlin
peopleAges.forEach { print("${it.key} is ${it.value}") }
```
#### 함수유형
예시) **정수 입력** 값에 3을 곱하는 람다 표현식
```kotlin
(Int) -> Int = { a: Int -> a * 3 }
```
-> 매개변수가 먼저 나오고 + 함수 화살표 + 함수 본문  
람다를 변수에 저장할 수도 있다.  
triple 변수는 함수를 저장한다.  
```kotlin
val triple: (Int) -> Int = (it * 3)
```
#### 고차함수
: 함수를 다른 함수로 전달하거나 다른 함수에서 함수를 변환하는 것을 의미한다.

### 단어 목록 만들기
```kotlin
fun main() {
    val words = listOf("about", "acute", "awesome", "balloon", "best", "brief", "class", "coffee", "creative")
    val filteredWords = words.filter { it.startsWith("b", ignoreCase = true) }
        .shuffled()
        .take(2)
        .sorted()
}
```
### 요약
+ 컬렉션은 관련 항목의 그룹이다.
+ 컬렉션은 변경 가능하거나 불가능
+ 컬렉션은 순서가 지정되거나 지정되지 않을 수 있다.
+ 컬렉션에 고유 항목이 필요하거나 중복 항목이 허용될 수 있다.
+ Kotlin에는 목록, 집합, 맵을 포함한 다양한 종류의 컬렉션이 있다.
+ Kotlin은 컬렉션을 처리하고 변환하기 위한 forEach, map, filter, sorted 등의 많은 함수를 제공한다.
+ 람다는 **이름이 없으며** 곧바로 표현식으로 전달할 수 있는 함수입니다. 예를 들면 다음과 같습니다. { a: Int -> a * 3 }
+ 고차 함수는 함수를 다른 함수로 전달하거나 다른 함수에서 함수를 반환하는 것을 의미한다.
---
## Activities and intents

### 인텐트 소개
#### *인텐트
: 실행할 작업을 나타내는 객체    
    - 암시적 인텐트 : 자체 앱의 화면인 경우가 많다.  
    - 명시적 인텐트 : 다른 앱이 관련된 작업을 실행하는 데 사용하고 시스템이 최종 결과를 결정한다.
### 명시적 인텐트 설정
**앱이 실행해야 할 활동을 정확히 알고 있을 때** 명시적 인텐트를 사용한다.
- extra 란?  
    : 나중에 검색할 수 있도록 이름이 지정된 숫자나 문자열과 같은 데이터, 
    함수를 호출할 때 인수를 전달하는 것과 비슷하다.
### DetailActivity 설정
```kotlin
// 하드 코딩 문자를 intent에서 전달된 letterId로 가져오는 코드
val letterId = intent?.extras?.getString("letter").toString()
```
-> intent와 extras 속성은 **null을 허용**하기 때문에 물음표 로 표시된다.
> extras 속성은 Bundle 유형이고 인텐트에 전달된 모든 extras에 액세스하는 방법을 제공한다.
### 암시적 인텐트 설정
예를 들어 Google 검색에서 제공하는 사전 기능을 사용하려고 할 때 기기의 브라우저를 실행해서 검색 페이지를 표시하려는 경우  
-> 사용자마다 설치한 브라우저가 다르다  
-> 사용자가 단어를 어떤 방식으로 찾을지 추측할 수 없다  
-> 이때 **암시적 인텐트**를 사용한다  
- URI = URL(웹페이지) + URN(전화번호 , 주소 ..)
- 인텐트 객체를 초기화할 때 컨텍스트와 활동을 전달하는 대신 URI와 Intent.ACTION_VIEW를 전달할 수 있다.  
    ```kotlin
    val intent = Intent(Intent.ACTION_VIEW, queryUrl)
    ```
    -> ACTION_VIEW는 URI를 사용하는 일반적인 인텐트  
    -> 시스템은 사용자의 웹브라우저에서 URI를 열어 이 인텐트를 처리한다.
### 요약
+ 명시적 인텐트는 앱의 특정 활동으로 이동하는 데 사용한다.
+ 암시적 인텐트는 특정 작업(예: 링크 열기, 이미지 공유)에 상응하며 시스템이 인텐트 처리 방법을 **결정하도록** 합니다.
+ 메뉴 옵션을 사용하면 버튼과 메뉴를 앱 바에 추가할 수 있다.
+ **컴패니언 객체**는 재사용 가능한 상수를 유형의 인스턴스가 아닌 유형과 연결하는 방법을 제공한다.
+ 인텐트를 실행하려면 다음을 실행합니다.
    - 컨텍스트 참조를 가져옵니다.
    - 명시적인지 암시적인지에 따라 활동이나 인텐트 유형을 제공하는 Intent 객체를 만듭니다.
    - **putExtra()**를 호출하여 필요한 데이터를 전달합니다.
    - intent 객체를 전달하는 startActivity()를 호출합니다.
---
## Stages of the activity lifecycle
- 수명 주기는 활동이 생성되는 시점부터 활동이 소멸되어 시스템에서 활동 리소스가 회수될 때까지 이어진다.  
- Android 개발자는 활동 수명 주기를 파악해야 한다.  
### 수명 주기 메서드 살펴보기 및 기본 로깅 추가
1단계: **onCreate()메서드** 확인 및 로깅 추가
    - onCreat()메서드에서 첫 초기화가 모두 이루어진다.   
    - onCreat()에서 레이아웃을 확장/ 클릭 리스너 정의/ 뷰 결합을 설정한  
    - onCreate() 수명 주기 메서드는 활동이 초기화된 직후에 **한 번** 호출된다.  
    - onCreate()가 실행되면 활동이 생성됨으로 간주된다.  
  >에뮬레이터 검은 화면 오류  
  avd manager 아이콘 클릭-> 우클릭해서 "Cold boot now"

2단계: onStart() 메서드 구현  
    - onStart() 수명 주기 메서드는 onCreat() 직후에 호출된다.  
    - onStart()가 실행되면 활동이 화면에 표시된다.  
    - onCreate()와 달리 활동의 수명 주기에서 여러 번 호출될 수 있다.  
3단계: 더 많은 로그 구문 추가  
- 다른 모든 수명 주기 메서드의 로깅을 구현한다.
- 활동이 처음부터 시작하면 onCreate() -> onStart() -> onResume() 순서로 호출된다.  
- onCreate()는 앱을 맨 처음 초기화할 때,  
onDestroy()는 앱에서 사용하는 리소스를 정리할 때,   
즉 활동 인스턴스의 전체 기간에 한 번씩만 호출된다. 
### 수명 주기 사용 사례
- Activity 수명 주기와 그 콜백을 사용해서 앱이 백그라운드로 이동하는 시점을 알고 시스템 리소스와 배터리 수명 보존을 위해 활발히 실행되지 않도록 한다.  
### 요약
#### 활동 수명 주기
- 활동이 이동하는 일련의 상태, 활동이 처음 만들어질 때 시작되고 활동이 소멸될 때 종료된다.
- 사용자가 활동 간에 / 앱 안팎으로 이동할 때 각 활동은 활동 수명 주기의 상태 간에 이동한다.
- 활동 수명 주기 각 상태에는 Activity 클래스에서 재정의할 수 있는 상응하는 콜백 메서드가 있다.  
    -> onCreate / onStart / onPause / onRestart / onResume / onStop / onDestroy
- 활동이 수명 주기 상태로 전환될 때 발생하는 동작을 추가하려면 상태의 콜백 메서드를 재정의한다.  
- 스켈레톤 재정의 메서드를 클래스에 추가하려면 ' ctrl + o '  
#### 로그로 로깅
- Log 클래스로 Logcat에 나타나는 메시지를 작성할 수 있다.
- Log.d(TAG, "") 를 통해 디버그 메시지를 작성한다.
#### 액티비티 상태 유지
- 앱이 백그라운드로 전환되면 onStop()이 호출된 직후 앱 데이터를 번들에 저장할 수 있다. (EditText와 같은 일부 데이터는 자동 저장된다.)
- 번들은 키와 값의 모음인 Bundle의 인스턴스. 키는 항상 문자열  
- onSaveInstanceState() 콜백을 사용하여 앱이 자동으로 종료된 경우에도 유지하려는 번들에 기타 데이터를 저장한다. 번들에 데이터를 넣으려면 put으로 시작하는 번들 메서드(예: putInt())를 사용  
- onRestoreInstanceState() 메서드 또는 더 일반적인 onCreate()의 번들에서 데이터를 다시 가져올 수 있다. onCreate() 메서드에는 번들을 보유하는 savedInstanceState 매개변수가 있다.
- savedInstanceState 변수가 null이면 활동이 상태 번들 없이 시작되어 검색할 상태 데이터가 없다.
- 키를 사용하여 번들에서 데이터를 검색하려면 get으로 시작하는 Bundle 메서드(예: getInt())를 사용  
#### 구성 변경
- 구성 변경은 기기 상태가 매우 급격하게 변경되어 시스템이 변경사항을 확인하는 가장 쉬운 방법이 활동을 소멸시키고 다시 빌드하는 것일 때 발생합니다.  
- 구성 변경은 사용자가 기기를 세로 모드에서 가로 모드로 또는 가로 모드에서 세로 모드로 회전할 때 가장 흔하게 발생합니다. 기기 언어가 변경되거나 하드웨어 키보드가 연결될 때도 구성 변경이 발생할 수 있습니다.  
- 구성 변경이 발생하면 Android는 모든 활동 수명 주기의 종료 콜백을 호출합니다. 그런 다음 Android는 처음부터 활동을 다시 시작하여 모든 수명 주기 시작 콜백을 실행합니다.  
- Android는 구성 변경으로 인해 앱을 종료할 때 onCreate()에서 사용할 수 있는 상태 번들로 활동을 다시 시작합니다.  
- 프로세스 종료와 마찬가지로 앱 상태를 onSaveInstanceState()의 번들에 저장합니다.
